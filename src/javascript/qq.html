<html>
<head>
<script type="text/javascript" src="js/jquery-easyui/jquery.min.js"></script>
<script type="text/javascript" src="js/jquery-easyui/jquery.easyui.min.js"></script>
<link rel="stylesheet" type="text/css" href="js/jquery-easyui/themes/default/easyui.css">
<script type="text/javascript">

function __jp1(data){
	var news = data.data;
	for(n of news){
		n.tag = n.tag.join();
		n.time = new Date(parseInt(n.timestamp)*1000).toJSON().substring(0,19)
	}
	$('#tbl').datagrid({
		data: news
	});
}

function load_js(url,cb){
	console.log("loading js from "+ url);

	var hm = document.createElement("script");
	hm.src = url;
	fn = cb || function(){};
	hm.type = 'text/javascript';
	hm.onload = fn;
	document.getElementsByTagName('head')[0].appendChild(hm);
}

function load_data(pnum){
	
	var url = `https://pacaio.match.qq.com/om/mediaArticles?mid=1755&num=20&page=${pnum}&expIds=&callback=__jp1`;
	load_js(url)
}

var pnum = 0;

function load(){
	load_data(pnum++);
}
load();
</script>
</head>


<body>

<table id = "tbl" class="easyui-datagrid" style="width:100%;height:100%"
        data-options="fitColumns:true,singleSelect:true">
    <thead>
        <tr>
            <th data-options="field:'title',width:100">标题</th>
			<th data-options="field:'time',width:100">时间</th>
            <th data-options="field:'tag',width:100">标签</th>
        </tr>
    </thead>
</table>
</body>


</html>